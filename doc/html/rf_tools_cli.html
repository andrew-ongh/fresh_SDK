<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>SmartSnippets DA1468x/DA15xxx SDK: RF Tools Command Line Interface Application</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SmartSnippets DA1468x/DA15xxx SDK
   &#160;<span id="projectnumber">Version 1.0.14.1081</span>
   </div>
   <div id="projectbrief">Combo Bluetooth Smart and 802.15.4</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">RF Tools Command Line Interface Application </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Overview</h2>
<p>This application provides a serial-based command line interface, running on the target device, that allows the user to perform various RF tests.</p>
<h2>Installation and setup</h2>
<p>To install the application, the user must burn the image on the board's flash using the standard SDK tools. The board must be connected to the host using a standard USB-to-serial cable.</p>
<p>A standard terminal application must be used on the host, like PuTTY on Windows or picocom/minicom on Linux.</p>
<p>The host serial port must be configured to 115200 8N1. To use the backspace for deleting characters, the backspace character must be set to Ctrl-H (In PuTTY settings-&gt;Terminal-&gt;Keyboard-&gt;The Backspace key-&gt;Control-H)</p>
<h2>Basic usage instructions</h2>
<p>When the device boots, and if the serial port is already setup and connected, you will get a prompt on your terminal application. Otherwise, just press &lt;ENTER&gt; to get one.</p>
<ul>
<li>type <b>help</b> to get a list of the available commands</li>
<li>type <b>verbose enable</b> to enable verbose return values</li>
<li>type <b>verbose disable</b> to disable verbose return values</li>
<li>If you enter a command without or with incorrect number or type of arguments, it will output its argument list.</li>
<li>If you enter arguments with invalid or out-of-range values, it will output the proper argument range.</li>
</ul>
<h2>Command syntax</h2>
<p>The following commands are defined:</p>
<h3>Reset the system</h3>
<p>This command resets the chip</p>
<blockquote class="doxtable">
<p>da_reset </p>
</blockquote>
<h3>Get the chip and CLI software version</h3>
<p>This command returns the chip version (AA, AC, etc) and the CLI application version</p>
<blockquote class="doxtable">
<p>da_version </p>
</blockquote>
<h3>Set the FEM mode</h3>
<p>This command configures the Front-End Module mode of operation</p>
<blockquote class="doxtable">
<p>da_femmode &lt;TX_MODE&gt; &lt;RX_MODE&gt; </p>
</blockquote>
<p>where:</p>
<ul>
<li><b>TX_MODE</b>: One of <b>txhp</b>, <b>txlp</b>, <b>txbp</b></li>
<li><b>RX_MODE</b>: One of <b>lna</b>, <b>rxbp</b></li>
</ul>
<p>The following table summarizes the modes and the respective FEM pin values:</p>
<table class="doxtable">
<tr>
<th>Mode </th><th>Description </th><th>CSD </th><th>CPS </th><th>CTX </th><th>CRX </th><th>CHL  </th></tr>
<tr>
<td>txhp </td><td>TX High Power </td><td>1 </td><td>0 </td><td>1 </td><td>0 </td><td>1 </td></tr>
<tr>
<td>txhp </td><td>TX Low Power </td><td>1 </td><td>0 </td><td>1 </td><td>0 </td><td>0 </td></tr>
<tr>
<td>txbp </td><td>TX Bypass </td><td>1 </td><td>1 </td><td>1 </td><td>0 </td><td>0 </td></tr>
<tr>
<td>lna </td><td>RX normal (lna) </td><td>1 </td><td>0 </td><td>0 </td><td>1 </td><td>0 </td></tr>
<tr>
<td>rxbp </td><td>RX bypass </td><td>1 </td><td>1 </td><td>0 </td><td>1 </td><td>0 </td></tr>
</table>
<h3>Set the FEM bias</h3>
<p>This command controls the FEM bias voltage (either V18 or V18P depending on the board configuration).</p>
<blockquote class="doxtable">
<p>da_fembias &lt;VOLTAGE_MV&gt; </p>
</blockquote>
<p>where:</p>
<ul>
<li><b>VOLTAGE_MV</b>: The FEM bias voltage in mV. Range: [1200, 1975]</li>
</ul>
<h3>Set the 2nd FEM bias</h3>
<p>This command controls the 2nd FEM bias voltage (either V18P or V18 depending on the board configuration).</p>
<blockquote class="doxtable">
<p>da_fembias2 &lt;VOLTAGE_MV&gt; </p>
</blockquote>
<p>where:</p>
<ul>
<li><b>VOLTAGE_MV</b>: The FEM bias voltage in mV. Range: [1200, 1975]</li>
</ul>
<h3>Configure and set a GPIO</h3>
<p>This command configures and sets a GPIO.</p>
<blockquote class="doxtable">
<p>da_gpio_set &lt;PORT&gt; &lt;PIN&gt; &lt;DIRECTION&gt; &lt;OUTPUT_MODE&gt; &lt;VALUE&gt; </p>
</blockquote>
<p>where:</p>
<ul>
<li><b>PORT</b>: The GPIO Port. 0 to 4.</li>
<li><b>PIN</b>: The GPIO Pin. 0 to 7 (0 to 4 for Port 2).</li>
<li><b>DIRECTION</b>: The GPIO Direction: 0: Input, no resistors, 1: Input w/pull-up, 2: Input w/pull-down, 3: Output.</li>
<li><b>OUTPUT_MODE</b>: (Only valid when DIRECTION=3) 0: Push-pull, 1: Open drain</li>
<li><b>VALUE</b>: (Only valid when DIRECTION=3) The GPIO value to set. 0 or 1.</li>
</ul>
<p>Please note that some GPIOs cannot be configured. The command will return an error in this case.</p>
<h3>Read a GPIO value</h3>
<p>This command reads the value of a GPIO.</p>
<blockquote class="doxtable">
<p>da_gpio_get &lt;PORT&gt; &lt;PIN&gt; </p>
</blockquote>
<p>where:</p>
<ul>
<li><b>PORT</b>: The GPIO Port. 0 to 4.</li>
<li><b>PIN</b>: The GPIO Pin. 0 to 7 (0 to 4 for Port 2).</li>
</ul>
<h3>Set all GPIOs to a specific value.</h3>
<p>This command will set all GPIOs (that are free to be configured) to a specific value.</p>
<blockquote class="doxtable">
<p>da_gpio_set_all &lt;VALUE&gt; </p>
</blockquote>
<p>where:</p>
<ul>
<li><b>VALUE</b>: The GPIO value to set. 0 or 1.</li>
</ul>
<p>Please note that this command implicitly sets the GPIO to DIRECTION=3 (Output) and OUTPUT_MODE=0 (Push-pull).</p>
<h3>Set the voltage rail to use for GPIOs</h3>
<p>This command selects the Voltage rail to use for GPIOs (V33 or V18P).</p>
<blockquote class="doxtable">
<p>da_gpio_rail &lt;RAIL&gt; </p>
</blockquote>
<p>where:</p>
<ul>
<li><b>RAIL</b>: One of V33 or V18P.</li>
</ul>
<h3>XTAL16 Trimming command</h3>
<p>This command can be used to read/write or autodetect the XTAL16 trimming value.</p>
<blockquote class="doxtable">
<p>da_xtal16 &lt;CMD&gt; &lt;VALUE&gt; </p>
</blockquote>
<p>The <b>VALUE</b> depends on the <b>CMD</b>. The following commands are supported:</p>
<ul>
<li>read 1: read the current XTAL16M trimming value</li>
<li>write <b>VALUE</b>: write a 16-bit HEX trim <b>VALUE</b> e.g. 0460</li>
<li>output <b>EnPoPi</b>: drive the XTAL16M clock to a specific PIN. En=0|1, Po=0|1|2|3|4, Pi=0|1|2|3|4|5|6|7. e.g. da_xtal16 output 130 means export XTAL16M on P3_0, da_xtal16 output 030 means stop XTAL16M clock export on P3_0</li>
<li>+delta <b>VALUE</b>: VALUE=16-bit HEX to add to current XTAL Trimming value</li>
<li>-delta <b>VALUE</b>: VALUE=16-bit HEX to subtract from current XTAL Trimming value</li>
<li>autotrim <b>PoPi</b>: Po=port and Pi=pin where the 500ms ref. pulse is applied e.g. 42 means port 4 pin 2</li>
</ul>
<p>Please note, that for the autotrim function to work, the GPIO at <b>PoPi</b> must be connected to a function generator that produces a pulse train, with a 500ms high period.</p>
<h3>Transmit a 15.4 continuous unmodulated carrier (tone)</h3>
<p>This command begins the transmission of a 15.4 continuous unmodulated carrier (tone) in the specified frequency and power.</p>
<blockquote class="doxtable">
<p>wpan_txtone &lt;FREQUENCY_MHz&gt; &lt;POWER&gt; </p>
</blockquote>
<p>where:</p>
<ul>
<li><b>FREQUENCY_MHz</b>: The frequency in MHz. Range: [2405, 2480]</li>
<li><b>POWER</b>: The power level attenuation, in dbm. Range: [0, -4]</li>
</ul>
<p>This command must be stopped using the <b>wpan_txstop</b> command.</p>
<h3>Transmit a 15.4 continuous stream</h3>
<p>This command begins the transmission of a 15.4 continuous (unpacketized) stream of symbols, from symbol 0x0 to symbol 0xF, in specified frequency and power.</p>
<blockquote class="doxtable">
<p>wpan_txstream &lt;FREQUENCY_MHz&gt; &lt;POWER&gt; </p>
</blockquote>
<p>where:</p>
<ul>
<li><b>FREQUENCY_MHz</b>: The frequency in MHz. Range: [2405, 2480]</li>
<li><b>POWER</b>: The power level attenuation, in dbm. Range: [0, -4]</li>
</ul>
<p>This command must be stopped using the <b>wpan_txstop</b> command.</p>
<h3>Transmit 15.4 packets</h3>
<p>This command begins the transmission of multiple 15.4 packets, with the option to add an interval between them. These packets have a normal 15.4 header, so that they can be parsed by a 15.4 sniffer, and a payload, that contains bytes counting from 0 to LENGTH_OCTETS-1. The first 11 octets contain the header, while the rest contain the payload.</p>
<blockquote class="doxtable">
<p>wpan_tx &lt;FREQUENCY_MHz&gt; &lt;POWER&gt; &lt;LENGTH_OCTETS&gt; &lt;NUM_PACKETS&gt; &lt;INTERVAL_US&gt; </p>
</blockquote>
<p>where:</p>
<ul>
<li><b>FREQUENCY_MHz</b>: The frequency in MHz. Range: [2405, 2480]</li>
<li><b>POWER</b>: The power level attenuation, in dbm. Range: [0, -4]</li>
<li><b>LENGTH_OCTETS</b>: The number of <em>payload</em> octets to use. Range: [1, 116]</li>
<li><b>NUM_PACKETS</b>: The number of packets to transmit. Range [0, 65535]. A value of 0 means transmit continuously.</li>
<li><b>INTERVAL_US</b>: The inter-packet interval, in us. Range [0, 1048575]. A value of 0 will trigger a back-to-back transmission of packets.</li>
</ul>
<p>This command must be stopped using the <b>wpan_txstop</b> command, if <em>NUM_PACKETS</em> is set to zero. Otherwise, it will stop when all packets have been transmitted.</p>
<h3>Stop transmitting 15.4 packets</h3>
<p>This command stops a 15.4 transmission started with the <em>wpan_txtone</em>, <em>wpan_txstream</em> and <em>wpan_tx</em> (NUM_PACKETS = 0) commands</p>
<blockquote class="doxtable">
<p>wpan_txstop </p>
</blockquote>
<h3>Receive 15.4 packets</h3>
<p>This command starts reception of 15.4 packets at the specified frequency.</p>
<blockquote class="doxtable">
<p>wpan_rx &lt;FREQUENCY_MHZ&gt; </p>
</blockquote>
<p>where:</p>
<ul>
<li><b>FREQUENCY_MHz</b>: The frequency in MHz. Range: [2405, 2480]</li>
</ul>
<p>This command must be stopped using the <em>wpan_rxstop</em> command.</p>
<h3>Stop 15.4 packet reception</h3>
<p>This command stops a started 15.4 packet reception, started using the <em>wpan_rx</em> command and prints statistics about the received packets.</p>
<p>Please note that since RSSI is also sampled towards the end of the transmission, where the RF may have already started ramping down, the moving average RSSI result for WPAN may be inconsistent and inaccurate.</p>
<blockquote class="doxtable">
<p>wpan_rxstop </p>
</blockquote>
<h3>Transmit a BLE continuous unmodulated carrier (tone)</h3>
<p>This command begins the transmission of a BLE continuous unmodulated carrier (tone) in the specified frequency and power.</p>
<blockquote class="doxtable">
<p>ble_txtone &lt;FREQUENCY_MHz&gt; &lt;POWER&gt; </p>
</blockquote>
<p>where:</p>
<ul>
<li><b>FREQUENCY_MHz</b>: The frequency in MHz. Range: [2402, 2480]</li>
<li><b>POWER</b>: The power level attenuation, in dbm. Range: [0, -4]</li>
</ul>
<p>This command must be stopped using the <b>ble_txstop</b> command.</p>
<h3>Transmit a BLE continuous stream</h3>
<p>This command begins the transmission of a BLE continuous (unpacketized) stream of symbols, using the specific payload.</p>
<blockquote class="doxtable">
<p>ble_txstream &lt;FREQUENCY_MHz&gt; &lt;POWER&gt; &lt;PAYLOAD_TYPE&gt; </p>
</blockquote>
<p>where:</p>
<ul>
<li><b>FREQUENCY_MHz</b>: The frequency in MHz. Range: [2402, 2480]</li>
<li><b>POWER</b>: The power level attenuation, in dbm. Range: [0, -4]</li>
<li><b>PAYLOAD_TYPE</b>: The payload type. Must be one of 0 (PRBS9), 1 (11110000), 2 (10101010)</li>
</ul>
<p>This command must be stopped using the <b>ble_txstop</b> command.</p>
<h3>Transmit BLE packets</h3>
<p>This command begins the transmission of multiple BLE packets, with the option to add an interval between them. The payload of the packets is configurable.</p>
<blockquote class="doxtable">
<p>ble_tx &lt;FREQUENCY_MHz&gt; &lt;POWER&gt; &lt;LENGTH_OCTETS&gt; &lt;NUM_PACKETS&gt; &lt;INTERVAL_US&gt; </p>
</blockquote>
<p>where:</p>
<ul>
<li><b>FREQUENCY_MHz</b>: The frequency in MHz. Range: [2402, 2480]</li>
<li><b>POWER</b>: The power level attenuation, in dbm. Range: [0, -4]</li>
<li><b>LENGTH_OCTETS</b>: The number of <em>payload</em> octets to use. Range: [1, 116]</li>
<li><b>PAYLOAD_TYPE</b>: The payload type. Must be one of 0 (PRBS9), 1 (11110000), 2 (10101010)</li>
<li><b>NUM_PACKETS</b>: The number of packets to transmit. Range [0, 65535]. A value of 0 means transmit continuously.</li>
<li><b>INTERVAL_US</b>: The inter-packet interval, in us. Range [0, 1048575]. Note: A value of 0 will actually trigger a periodic transmission of packets with an interval of 625us. A value greater than 0 will actually have an interval no less than 3ms.</li>
</ul>
<p>This command must be stopped using the <b>ble_txstop</b> command, if <em>NUM_PACKETS</em> is set to zero. Otherwise, it will stop when all packets have been transmitted.</p>
<h3>Stop transmitting BLE packets</h3>
<p>This command stops a BLE transmission started with the <em>ble_txtone</em>, <em>ble_txstream</em> and <em>ble_tx</em> (NUM_PACKETS = 0) commands</p>
<blockquote class="doxtable">
<p>ble_txstop </p>
</blockquote>
<h3>Receive BLE packets</h3>
<p>This command starts reception of BLE packets at the specified frequency.</p>
<blockquote class="doxtable">
<p>ble_rx &lt;FREQUENCY_MHZ&gt; </p>
</blockquote>
<p>where:</p>
<ul>
<li><b>FREQUENCY_MHz</b>: The frequency in MHz. Range: [2402, 2480]</li>
</ul>
<p>This command must be stopped using the <em>ble_rxstop</em> command.</p>
<h3>Stop BLE packet reception</h3>
<p>This command stops a started BLE packet reception, started using the <em>ble_rx</em> command and prints statistics about the received packets.</p>
<blockquote class="doxtable">
<p>ble_rxstop</p>
</blockquote>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 19 2018 07:50:05 for SmartSnippets DA1468x/DA15xxx SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
